<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <title>Iso with plants + hit</title>
    <style>
        body {
            margin: 0;
            background: #a6d785;
        }

        .field {
            position: relative;
            width: 540px;
            height: 270px;
        }

        .plot {
            position: absolute;
            width: 90px;
            height: 45px;
            border: dashed 1px gray;
        }

        .plot.empty::before {
            background: #6b4f2c;
        }

        /* ВИЗУАЛ ГРЯДКИ */
        .plot::before {
            content: "";
            position: absolute;
            inset: 0;
            background: green;
            clip-path: polygon(50% 0, 100% 50%, 50% 100%, 0 50%);
            z-index: 1;
        }

        .plot:hover::before {
            filter: brightness(1.15);
        }

        .plot:hover .plant {
            filter: brightness(1.3) saturate(1.2) drop-shadow(0px 0px 4px yellow);
        }


        /* РАСТЕНИЕ */
        /* .plant {
            position: absolute;
            left: 50%;
            bottom: 35%;
            width: 60px;
            height: 42px;
            background: linear-gradient(#3a7f2e, #1f4f1a);
            border-radius: 50% 50% 40% 40%;
            transform: translateX(-50%);
            z-index: 2;
            pointer-events: none;
        } */

        /* .plant {
            width: 60px;
            height: 42px;
            position: absolute;
            left: 50%;
            bottom: 35%;
            width: 60px;
            height: 42px;
            background: linear-gradient(#3a7f2e, #1f4f1a);
            border-radius: 50% 50% 40% 40%;
            transform: translateX(-50%);
            z-index: 2;
            pointer-events: none;
            background: url('fsm/animals/dog/dog.webp') no-repeat;
            animation: play-dog 0.8s steps(10) infinite;
            10 кадров анимации
            background-image: url('fsm/animals/dog/dog2.webp');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
        } */
        /* 
        @keyframes play-dog {
            from {
                background-position: 0px;
            }

            to {
                background-position: -600px;
            } */

        /* Сдвиг на ширину всех кадров */
        /* } */
        .plot>img {
            position: absolute;
            left: 50%;
            bottom: 35%;
            width: 60px;
            height: auto;
            /* Allow height to scale proportionally */
            transform: translateX(-50%);
            z-index: 2;
            pointer-events: none;
            /* Keeps the click event on the .plot */
            transition: transform 0.2s ease;
            /* Optional: smooth hover effect */
        }
    </style>
</head>

<body>

    <div class="field" id="field"></div>

    <script>
        const cols = 4, rows = 8;
        const W = 90, H = 45;
        const ox = (cols - 1) * (W / 2), oy = 0;
        const field = document.getElementById('field');

        for (let y = 0; y < rows; y++) {
            for (let x = 0; x < cols; x++) {
                const t = document.createElement('div');
                t.className = 'plot';

                t.style.left = ox - (x - y) * (W / 2) + 'px';
                t.style.top = oy + (x + y) * (H / 2) + 'px';

                // const plant = document.createElement('div');
                // plant.className = 'plant';


                const plant = document.createElement('img');
                // plant.className = 'plant';
                plant.src = 'fsm/animals/dog/dog2.webp'; // Your image path
                // plant.alt = 'plant';
                t.appendChild(plant);

                t.onclick = () => {
                    console.log('click tile', x, y);
                };

                field.appendChild(t);
            }
        }
    </script>

</body>

</html>